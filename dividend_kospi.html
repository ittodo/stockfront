<!doctype html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>KOSPI 배당 스캔</title>
  <link rel="icon" href="data:;base64,">
  <link rel="stylesheet" href="./src/styles/styles.css">
  <style>
    .ctrls {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      margin: 8px 0;
    }

    .ctrls label {
      font-size: 12px;
      color: #4b5563;
    }

    .ctrls input,
    .ctrls select {
      padding: 6px 8px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
    }

    .btn {
      padding: 6px 10px;
      border: 1px solid #9ca3af;
      background: #fff;
      border-radius: 6px;
      cursor: pointer;
    }

    .btn.primary {
      background: #111827;
      color: #fff;
      border-color: #111827;
    }

    .muted {
      color: #6b7280;
      font-size: 12px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }

    th,
    td {
      border-bottom: 1px solid #e5e7eb;
      padding: 6px 8px;
      text-align: left;
    }

    th {
      background: #f9fafb;
      position: sticky;
      top: 0;
    }

    .tag {
      padding: 2px 6px;
      border-radius: 9999px;
      font-size: 12px;
      border: 1px solid #e5e7eb;
    }

    .tag.y {
      background: #dcfce7;
      color: #166534;
      border-color: #bbf7d0;
    }

    .tag.n {
      background: #fee2e2;
      color: #991b1b;
      border-color: #fecaca;
    }

    .progress {
      height: 6px;
      background: #e5e7eb;
      border-radius: 9999px;
      overflow: hidden;
    }

    .progress>div {
      height: 100%;
      background: #111827;
      width: 0%;
      transition: width .2s;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1 style="margin:12px 0 4px">KOSPI 배당 스캔</h1>
    <div class="muted">전체 KOSPI 상장사를 대상으로 최근 공시에서 현금배당 결정을 스캔합니다.</div>

    <div class="ctrls">
      <label>API Base
        <input id="api-base" placeholder="http://localhost:5000" style="width:220px">
      </label>
      <label>기간
        <select id="range-years">
          <option value="1">최근 1년</option>
          <option value="2" selected>최근 2년</option>
          <option value="3">최근 3년</option>
        </select>
      </label>
      <label>동시 처리
        <input id="concurrency" type="number" min="1" max="20" value="5" style="width:80px">
      </label>
      <label>대상 수(테스트용 제한)
        <input id="limit" type="number" min="0" value="0" style="width:100px" title="0이면 전체">
      </label>
      <button id="btn-start" class="btn primary">스캔 시작</button>
      <button id="btn-export" class="btn">CSV 내보내기</button>
      <button id="btn-clear-scan-cache" class="btn" style="display:none" title="dev에서만 표시">스캔 캐시 삭제</button>
      <a class="btn" href="./index.html">홈</a>
    </div>

    <div id="status" class="muted">대기 중…</div>
    <div class="progress" style="margin:8px 0 12px">
      <div id="progbar"></div>
    </div>

    <div id="tbl"></div>
  </div>

  <script type="module" src="./src/components/shared-footer.js"></script>
  <script type="module" src="./src/scripts/dividend_kospi.js"></script>
</body>

</html>